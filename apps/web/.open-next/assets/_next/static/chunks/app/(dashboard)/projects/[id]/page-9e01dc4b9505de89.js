(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{4478:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var i=a(64390),t=a(18694),n=a(14545),l=a(74393),c=a(54203),r=a(30861),d=a(27755),o=a(62422),m=a(71464);let x=o.bL,h=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)(o.B8,{ref:s,className:(0,m.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t})});h.displayName=o.B8.displayName;let p=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)(o.l9,{ref:s,className:(0,m.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t})});p.displayName=o.l9.displayName;let u=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)(o.UC,{ref:s,className:(0,m.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t})});u.displayName=o.UC.displayName;var j=a(90100),g=a(20862),v=a(63947),f=a(99131),y=a(38179),N=a(67678),b=a(48795),w=a(81276),k=a.n(w);function A(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),{toast:a}=(0,b.dj)(),o=e.id,{data:m,isLoading:w}=(0,g.By)(o),A=(0,g.sS)(o),C=(0,g.tw)(),[P,I]=(0,t.useState)(""),[R,B]=(0,t.useState)(""),[S,U]=(0,t.useState)("");(0,t.useState)(()=>{m&&(I(m.name),B(m.webhookUrl||""),U(m.allowedDomains.join(", ")))});let K=async e=>{e.preventDefault(),await A.mutateAsync({name:P,webhookUrl:R||void 0,allowedDomains:S.split(",").map(e=>e.trim()).filter(Boolean)})},T=async()=>{confirm("Are you sure? The old API key will stop working immediately.")&&await C.mutateAsync(o)},W=(e,s)=>{navigator.clipboard.writeText(e),a({title:"Copied!",description:"".concat(s," copied to clipboard")})},Z=m?'<script src="https://unpkg.com/@reactly/widget@latest/dist/widget.umd.js"><\/script>\n<script>\n  window.ReactlyWidget.init({\n    projectId: "'.concat(m.id,'",\n    apiKey: "').concat(m.apiKey,'",\n    apiUrl: "').concat("http://localhost:3001/api",'",\n    position: "bottom-right"\n  });\n<\/script>'):"",$="npm install @reactly/widget",D=m?"import { initFeedbackWidget } from '@reactly/widget';\n\ninitFeedbackWidget({\n  projectId: '".concat(m.id,"',\n  apiKey: '").concat(m.apiKey,"',\n  apiUrl: '").concat("http://localhost:3001/api","',\n  position: 'bottom-right',\n  theme: {\n    primaryColor: '#8b5cf6',\n  }\n});"):"";return w?(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>s.back(),children:(0,i.jsx)(v.A,{className:"h-5 w-5"})}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"h-8 w-48 bg-muted rounded animate-pulse"})})]})}):m?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)(k(),{href:"/projects",children:(0,i.jsx)(c.$,{variant:"ghost",size:"icon",children:(0,i.jsx)(v.A,{className:"h-5 w-5"})})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[m.name,(0,i.jsx)(j.E,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Configure your project settings"})]})]}),(0,i.jsxs)(x,{defaultValue:"settings",className:"space-y-6",children:[(0,i.jsxs)(h,{children:[(0,i.jsx)(p,{value:"settings",children:"Settings"}),(0,i.jsx)(p,{value:"embed",children:"Embed Code"}),(0,i.jsx)(p,{value:"api",children:"API Key"})]}),(0,i.jsx)(u,{value:"settings",className:"space-y-6",children:(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Project Settings"}),(0,i.jsx)(l.BT,{children:"Update your project configuration"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("form",{onSubmit:K,className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"name",children:"Project Name"}),(0,i.jsx)(r.p,{id:"name",value:P,onChange:e=>I(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"webhook",children:"Discord Webhook URL (Optional)"}),(0,i.jsx)(r.p,{id:"webhook",type:"url",placeholder:"https://discord.com/api/webhooks/...",value:R,onChange:e=>B(e.target.value)}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Get notified on Discord when negative feedback is received"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"domains",children:"Allowed Domains (Optional)"}),(0,i.jsx)(r.p,{id:"domains",placeholder:"example.com, app.example.com",value:S,onChange:e=>U(e.target.value)}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of domains where the widget can be embedded. Leave empty to allow all domains."})]}),(0,i.jsx)(c.$,{type:"submit",disabled:A.isPending,children:A.isPending?"Saving...":"Save Changes"})]})})]})}),(0,i.jsxs)(u,{value:"embed",className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Script Tag (Quick Start)"}),(0,i.jsx)(l.BT,{children:"Copy and paste this code before the closing </body> tag"})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-xs",children:(0,i.jsx)("code",{children:Z})}),(0,i.jsx)(c.$,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>W(Z,"Embed code"),children:(0,i.jsx)(f.A,{className:"h-4 w-4"})})]}),(0,i.jsxs)("div",{className:"flex items-start gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,i.jsx)(y.A,{className:"h-5 w-5 text-green-600 shrink-0 mt-0.5"}),(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("p",{className:"font-medium text-green-900",children:"Ready to use!"}),(0,i.jsx)("p",{className:"text-green-700 mt-1",children:"Paste this code into your HTML and the widget will automatically appear."})]})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"NPM Package (Advanced)"}),(0,i.jsx)(l.BT,{children:"Install the widget as an NPM package for React/Next.js apps"})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(d.J,{className:"text-sm font-medium mb-2 block",children:"Install"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-xs",children:(0,i.jsx)("code",{children:$})}),(0,i.jsx)(c.$,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>W($,"Install command"),children:(0,i.jsx)(f.A,{className:"h-4 w-4"})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(d.J,{className:"text-sm font-medium mb-2 block",children:"Usage"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-xs",children:(0,i.jsx)("code",{children:D})}),(0,i.jsx)(c.$,{size:"sm",variant:"outline",className:"absolute top-2 right-2",onClick:()=>W(D,"Usage code"),children:(0,i.jsx)(f.A,{className:"h-4 w-4"})})]})]})]})]})]}),(0,i.jsx)(u,{value:"api",className:"space-y-6",children:(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"API Key"}),(0,i.jsx)(l.BT,{children:"Use this key to authenticate API requests"})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{children:"Current API Key"}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(r.p,{value:m.apiKey,readOnly:!0,className:"font-mono text-sm"}),(0,i.jsx)(c.$,{variant:"outline",size:"icon",onClick:()=>W(m.apiKey,"API key"),children:(0,i.jsx)(f.A,{className:"h-4 w-4"})})]})]}),(0,i.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,i.jsxs)("p",{className:"text-sm text-yellow-900",children:[(0,i.jsx)("strong",{children:"Keep your API key secure!"})," Don't commit it to version control or expose it in client-side code."]})}),(0,i.jsxs)(c.$,{variant:"destructive",onClick:T,disabled:C.isPending,children:[(0,i.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Regenerate API Key"]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Regenerating will invalidate the old key immediately. Update your widget configuration after regenerating."})]})]})})]})]}):(0,i.jsx)("div",{className:"text-center py-12",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:"Project not found"})})}},95627:(e,s,a)=>{Promise.resolve().then(a.bind(a,4478))}},e=>{e.O(0,[534,672,415,276,405,232,561,952,934,358],()=>e(e.s=95627)),_N_E=e.O()}]);